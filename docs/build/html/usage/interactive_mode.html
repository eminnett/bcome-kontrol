

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interactive Mode &mdash; Bcome 1.3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bootstrapping mode" href="bootstrapping_mode.html" />
    <link rel="prev" title="File transfers" href="file_transfers.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Bcome
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">What is Bcome?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../what/quick_look.html">A quick look</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../starting/installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Namespace Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/basic_configuration.html">Basic configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/connecting_clouds.html">Connecting clouds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/cleaning_up_server_names.html">Cleaning up server names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/caching_server_lookups.html">Caching server lookups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/inventory_filtering.html">Inventory filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/sub_selected_inventories.html">Sub-selected inventories</a></li>
</ul>
<p class="caption"><span class="caption-text">SSH configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ssh_configuration/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssh_configuration/direct_connections.html">Direct connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssh_configuration/proxied_connections.html">Proxied connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssh_configuration/bootstrapping.html">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssh_configuration/configuration_inheritance.html">Configuration Inheritance</a></li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigation.html">Navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching_inventories.html">Caching Inventories</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_connections.html">Testing connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssh_to_a_server.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="executing_commands.html">Executing commands with run</a></li>
<li class="toctree-l1"><a class="reference internal" href="pseudo_tty.html">Pseudo tty</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_transfers.html">File transfers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Interactive Mode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-interactive-mode">Using interactive mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-selections-of-servers">Working with selections of servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bootstrapping_mode.html">Bootstrapping mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="port_forwarding.html">Port Forwarding</a></li>
</ul>
<p class="caption"><span class="caption-text">Basic Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting/bash_scripting.html">Bash scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/ruby_scripting.html">Basic ruby scripting</a></li>
</ul>
<p class="caption"><span class="caption-text">Orchestration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/registry.html">The Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/metadata_framework.html">The metadata framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/internal_hooks.html">Internal Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/external_hooks.html">External Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/tags.html">Tags</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bcome</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Interactive Mode</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usage/interactive_mode.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interactive-mode">
<h1>Interactive Mode<a class="headerlink" href="#interactive-mode" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Interactive mode allows you to enter repeated commands in a transparent context to either single, or multiple servers without having to enter repeated ‘run’ commands.</p>
<p>Interactive mode loads a secondary interactive shell, having established an SSH connection to all selected servers, following which any commands you enter will be executed on every server in the selection.</p>
<a target="_blank" href="https://asciinema.org/a/4eLVldl3G6WwwV8IvfWGllMpx?autoplay=1&speed=2"><img src="https://asciinema.org/a/4eLVldl3G6WwwV8IvfWGllMpx.png" width="836"/></a><p>The function is useful when managing groups of servers in a real-time scenario, e.g. applying security patches, testing if servers have a given vulnerability, running updates and the like.</p>
<p>It is expected that those using interactive mode have enough knowledge of the servers under their control, and the repercussions of the commands that they might enter, as all commands entered will be executed in parallel on every server in the selection at once.</p>
<p>Note that the examples in this section will utilise the following reference network configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root <span class="o">(</span>collection<span class="o">)</span>
  <span class="p">|</span>- staging <span class="o">(</span>inventory<span class="o">)</span>
    <span class="p">|</span>- app1 <span class="o">(</span>server<span class="o">)</span>
  <span class="p">|</span>- qa <span class="o">(</span>inventory<span class="o">)</span>
    <span class="p">|</span>- app1 <span class="o">(</span>server<span class="o">)</span>
  <span class="p">|</span>- production <span class="o">(</span>inventory<span class="o">)</span>
    <span class="p">|</span>- app1 <span class="o">(</span>server<span class="o">)</span>
    <span class="p">|</span>- app2 <span class="o">(</span>server<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-interactive-mode">
<h2>Using interactive mode<a class="headerlink" href="#using-interactive-mode" title="Permalink to this headline">¶</a></h2>
<p>Enter the production inventory namespace, and access interactive mode:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; bcome production
root&gt; production&gt; interactive
</pre></div>
</div>
<p>You can also access interactive mode directly from your terminal, using keyed access, as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; bcome production:interactive
</pre></div>
</div>
<p>You may also want to enter interactive mode for every single server in your estate (something I’ve done a couple of times when testing for a newly highlighted vulnerability):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; bcome interactive
</pre></div>
</div>
</div>
<div class="section" id="working-with-selections-of-servers">
<h2>Working with selections of servers<a class="headerlink" href="#working-with-selections-of-servers" title="Permalink to this headline">¶</a></h2>
<p>Bcome allows you to work with selections of servers in a given inventory.</p>
<p>Applying this pattern to an interactive session can be very useful should you wish to issue commands to specific groups of servers within a given namespace e.g. “All my application servers within inventory X”.</p>
<p>See the Command list of a guide on working with selections: <a class="reference internal" href="commands.html"><span class="doc">Commands</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bootstrapping_mode.html" class="btn btn-neutral float-right" title="Bootstrapping mode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="file_transfers.html" class="btn btn-neutral" title="File transfers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, webzakimbo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>